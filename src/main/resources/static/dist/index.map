{"version":3,"sources":["dom.js","app.js","index.js"],"names":["main","document","querySelector","removeChildren","element","hasChildNodes","lastChild","remove","makeArtistMain","jsonArray","style","display","artistTitle","createElement","innerText","appendChild","forEach","artist","div","classList","add","innerHTML","imageURL","name","id","addMakeMain","makeAlbumMain","makeAddArtistButton","button","addEventListener","makeForms","submitButton","artistName","artistUrl","fetch","method","body","JSON","stringify","value","imageUrl","then","response","json","data","albums","album","image","makeSongMain","makeAddAlbumButton","makeCommentSection","comments","makeTagSection","tags","entityComments","parentId","entity","querySelectorAll","comment","username","text","rating","commentName","type","setAttribute","entityTags","tag","tagName","parentName","albumName","recordLabel","albumUrl","console","log","songs","song","time","makeAddSongButton","songName","songLength","length","labelText","input","label","makeMain","parentEntity","module","exports","fetchCall","address","res","require","returnButton"],"mappings":"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","file":"index.map","sourceRoot":"..\\js","sourcesContent":["const main = document.querySelector('main')\r\n\r\n\r\nfunction removeChildren(element){\r\n\twhile (element.hasChildNodes()) {\r\n\t\telement.lastChild.remove();\r\n\t}\r\n}\r\n\r\nfunction makeArtistMain(jsonArray){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'none';\t\r\n\tremoveChildren(main);\r\n\tconst artistTitle = document.createElement('h2');\r\n\tartistTitle.innerText = 'Artists';\r\n\tmain.appendChild(artistTitle);\r\n\t//makes artists \r\n\tjsonArray.forEach(artist => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content')\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<img src=\"/images/${artist.imageURL}\">\r\n\t\t\t<h2 id=\"${artist.name}\" data-artistId=\"${artist.id}\">\r\n\t\t\t\t${artist.name}\r\n\t\t\t</h2>\r\n\t\t`\r\n\t\taddMakeMain(div, makeAlbumMain, artist) \r\n\t\tmain.appendChild(div)\r\n\t})\r\n\tmakeAddArtistButton()\r\n}\r\n\r\nfunction makeAddArtistButton(){ \r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Artist';\r\n\tbutton.addEventListener('click', () => {\r\n\t\tmakeForms('Artist Name:', 'artistName');\r\n\t\tmakeForms('Artist Image Location:', 'artistUrl')\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\t\t\r\n\t\tconst artistName = document.querySelector('#artistName');\r\n\t\tconst artistUrl = document.querySelector('#artistUrl');\r\n\t\tsubmitButton.addEventListener('click', () => {\r\n\t\t\tfetch(`api/artist/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: artistName.value,\r\n\t\t\t\t\timageUrl: artistUrl.value\r\n\t\t\t\t})\r\n\t\t\t}).then(response => response.json()).then(data => {makeArtistMain(data)})\r\n\t\t})\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button)\r\n}\r\n\r\nfunction makeAlbumMain(artist){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'block';\r\n\tremoveChildren(main);\r\n\t//main.childNodes.forEach(elem => elem.remove())\r\n\r\n\tartist.albums.forEach(album => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content')\r\n\t\tdiv.innerHTML += `\r\n\t\t\t<img src=\"/images/${album.image}\">\r\n\t\t\t<h2 id=\"${album.name}\" data-albumId=\"${album.id}\">\r\n\t\t\t\t${album.name}\r\n\t\t\t</h2>\r\n\t\t`\r\n\t\taddMakeMain(div, makeSongMain, album)\r\n\t\tmain.appendChild(div);\r\n\t})\r\n\tmakeAddAlbumButton(artist.name);\r\n\tmakeCommentSection(artist.comments, artist.id, 'artist');\r\n\tmakeTagSection(artist.tags, artist.id, 'artist');\r\n}\r\n\r\nfunction makeCommentSection(entityComments, parentId, entity){\r\n\tconst commentList = document.querySelectorAll('.comment');\r\n\tcommentList.forEach(element => {element.remove()})\r\n\r\n\tentityComments.forEach(comment =>{\r\n\t\tconst comments = document.createElement('div');\r\n\t\tcomments.classList.add('comment');\r\n\t\tcomments.innerHTML += `\r\n\t\t\t<p>Username: ${comment.username}</p>\r\n\t\t\t<p>Comment: ${comment.text}</p>\r\n\t\t\t<p>Rating: ${comment.rating}/5</p>\r\n\t\t`\r\n\t\tmain.appendChild(comments);\t\r\n\t})\r\n\t\t//makes addComment button\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Comment';\r\n\tbutton.addEventListener('click', () =>{\r\n\t\tmakeForms('Username:', 'username');\r\n\t\tmakeForms('Comment:', 'commentName');\r\n\t\tmakeForms('Rating(1-5):', 'rating')\r\n\t\tconst submitButton = document.createElement('button');\r\n\t\tconst username = document.querySelector('#username')\r\n\t\tconst commentName = document.querySelector('#commentName');\r\n\t\tconst rating = document.querySelector('#rating')\r\n\t\trating.type = 'number';\r\n\t\trating.setAttribute('min', '1');\r\n\t\trating.setAttribute('max', '5');\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\t\r\n\r\n\t\tsubmitButton.addEventListener('click', () => {\r\n\t\t\tfetch(`api/${entity}/${parentId}/add-comment`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tcomment: commentName.value,\r\n\t\t\t\t\tusername: username.value,\r\n\t\t\t\t\trating: rating.value\r\n\t\t\t\t})\r\n\t\t\t}).then(response => response.json()).then(data => {makeCommentSection(data, parentId, entity)})\r\n\t\t\tdocument.querySelector('.commentName').remove();\r\n\t\t\tdocument.querySelector('.username').remove();\r\n\t\t\tdocument.querySelector('.rating').remove();\r\n\t\t\tcommentName.remove();\r\n\t\t\tusername.remove();\r\n\t\t\trating.remove();\r\n\t\t\tsubmitButton.remove();\r\n\r\n\t\t})\r\n\t\t//removes original add button when pressed\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button);\r\n}\r\n\r\nfunction makeTagSection(entityTags, parentId, entity){\r\n\r\n\tconst tagList = document.querySelectorAll('.tag');\r\n\ttagList.forEach(element => {element.remove()})\r\n\r\n\tentityTags.forEach(tag =>{\r\n\t\tconst tags = document.createElement('div');\r\n\t\ttags.classList.add('tag');\r\n\t\ttags.innerHTML += `\r\n\t\t\t<p>${tag.tagName}</p>\r\n\t\t`\r\n\t\tmain.appendChild(tags);\t\r\n\t})\r\n\t\t//makes addTag button\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Tag';\r\n\tbutton.addEventListener('click', () =>{\r\n\t\tmakeForms('Tag:', 'tagName');\r\n\t\tconst submitButton = document.createElement('button');\r\n\r\n\t\tconst tagName = document.querySelector('#tagName');\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\t\r\n\r\n\t\tsubmitButton.addEventListener('click', () => {\r\n\t\t\tfetch(`api/${entity}/${parentId}/add-tag`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: tagName.value,\r\n\t\t\t\t})\r\n\r\n\t\t\t}).then(response => response.json()).then(data => {makeTagSection(data, parentId, entity)})\r\n\t\t\tdocument.querySelector('.tagName').remove();\r\n\t\t\ttagName.remove();\r\n\t\t\tsubmitButton.remove();\r\n\r\n\t\t})\r\n\t\t//removes original add button when pressed\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button);\r\n}\r\n\r\nfunction makeAddAlbumButton(parentName) {\r\n\t//makes basic button\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Album';\r\n\t//makes listener to create form with submit button\r\n\tbutton.addEventListener('click', () => {\r\n\t\tmakeForms('Album Name:', 'albumName');\r\n\t\tmakeForms('Record Label:', 'recordLabel');\r\n\t\tmakeForms('Image Location:', 'albumUrl')\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\t\t\r\n\t\tconst albumName = document.querySelector('#albumName');\r\n\t\tconst recordLabel = document.querySelector('#recordLabel');\r\n\t\tconst albumUrl = document.querySelector('#albumUrl');\r\n\r\n\t\t//listener to submitButton then fetch new api to make page\r\n\t\tsubmitButton.addEventListener('click', () => {\t\t\t\r\n\t\t\t//post new album using the appropriate input.value\r\n\t\t\tfetch(`api/album/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: albumName.value,\r\n\t\t\t\t\trecordLabel: recordLabel.value,\r\n\t\t\t\t\timageUrl: albumUrl.value,\r\n\t\t\t\t\tartistName: parentName\r\n\t\t\t\t})\r\n\t\t\t\t//fetch generates new page using (V \"data\" right here) given back from the controller\r\n\t\t\t}).then(response => response.json()).then(data => {console.log(data); makeAlbumMain(data)})\r\n\t\t})\r\n\t\t//removes original add button when pressed\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button)\r\n}\r\n\r\nfunction makeSongMain(album){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'block';\r\n\tremoveChildren(main);\r\n\r\n\talbum.songs.forEach(song => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content');\r\n\t\tdiv.innerHTML += `\r\n\t\t\t<div class=\"song_item\">\r\n\t\t\t\t<h2 id=\"${song.name}\" data-songId=\"${song.id}\">\r\n\t\t\t\t\t${song.name}\r\n\t\t\t\t</h2>\r\n\t\t\t\t<h4>${song.time}</h4>\r\n\t\t\t\t</div>\r\n\t\t`\r\n\t\tmain.appendChild(div)\r\n\t})\r\n\tmakeAddSongButton(album.name);\r\n\tmakeCommentSection(album.comments, album.id, 'album')\r\n\tmakeTagSection(album.tags, album.id, 'album')\r\n}\r\n\r\n\r\nfunction makeAddSongButton(parentName){\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Song';\r\n\tbutton.addEventListener('click', () => {\r\n\t\tmakeForms('Song Name:', 'songName');\r\n\t\tmakeForms('Run Time:', 'songLength');\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\t\tconst songName = document.querySelector('#songName')\r\n\t\tconst songLength = document.querySelector('#songLength')\r\n\r\n\t\tsubmitButton.addEventListener('click', function(){\r\n\t\t\tfetch(`api/song/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: songName.value,\r\n\t\t\t\t\tlength: songLength.value,\r\n\t\t\t\t\talbum: parentName\r\n\t\t\t\t})\r\n\t\t\t}).then(response => response.json()).then(data => {makeSongMain(data)})\r\n\t\t\t\r\n\t\t})\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button);\r\n}\r\n\r\nfunction makeForms(labelText, id){\r\n\tconst input = document.createElement('input');\r\n\tconst label = document.createElement('label')\r\n\tlabel.innerText = labelText;\r\n\tlabel.classList.add(id);\r\n\tinput.id = id;\r\n\tinput.setAttribute('type', 'text');\r\n\tlabel.appendChild(input);\r\n\tmain.appendChild(label);\r\n}\r\n\r\nfunction addMakeMain(div, makeMain, parentEntity){\r\n\tdiv.addEventListener('click', () => {makeMain(parentEntity)});\r\n}\r\n\r\n/*\r\nfunction showComments(jsonArray){\r\n\tjsonArray.forEach(part => {\r\n\r\n\t})\r\n}\r\n*/\r\n\r\nmodule.exports = {\r\n\tmakeArtistMain,\r\n\tmakeAlbumMain,\r\n\tmakeSongMain,\r\n\tmakeForms,\r\n}","\r\nfunction fetchCall(address){\r\n\treturn fetch(`/api/${address}`).then(res => res.json())\r\n}\r\n\r\n// function ajaxCall(address){\r\n// \tconst xhttp = new XMLHttpRequest()\r\n\r\n// \treturn xhttp.onreadystatechange = function() {\r\n\r\n// \t\tif (this.readyState == 4 && this.status == 200) {\r\n// \t\t\tconsole.log(this.responseText)\r\n// \t\t\treturn JSON.parse(this.responseText)\r\n// \t\t}\r\n// \t}\r\n\r\n// \txhttp.open('GET', `/api/${address}`, true)\r\n// \txhttp.send()\r\n// }\r\n\r\nmodule.exports = {\r\n\tfetchCall\r\n}\r\n\r\n","const {makeArtistMain, makeAlbumMain, makeSongMain} = require('./dom.js')\r\nconst {fetchCall} = require('./app.js')\r\n\r\nfetchCall('artists').then(data => {\r\n\tmakeArtistMain(data)\r\n});\r\n\r\nconst returnButton = document.querySelector('.returnToArtist');\r\nreturnButton.addEventListener('click', () => {\r\n\t\tfetchCall('artists').then(data => {\r\n\t\t\tmakeArtistMain(data)\r\n\t\t});\r\n})\r\n\r\n\r\n// makeMain(ajaxCall('albums'));"]}