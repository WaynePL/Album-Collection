{"version":3,"sources":["dom.js","app.js","index.js"],"names":["main","document","querySelector","removeChildren","element","hasChildNodes","lastChild","remove","makeArtistMain","jsonArray","style","display","forEach","artist","div","createElement","classList","add","innerHTML","imageURL","name","id","addMakeMain","albums","makeAlbumMain","appendChild","makeAddArtistButton","button","innerText","addEventListener","artistName","makeForms","artistUrl","submitButton","fetch","method","body","JSON","stringify","value","imageUrl","then","response","json","data","parentName","childNodes","elem","album","image","songs","makeSongMain","makeAddAlbumButton","albumName","recordLabel","albumUrl","song","makeAddSongButton","songName","songLength","length","labelText","input","label","setAttribute","array","makeMain","module","exports","fetchCall","address","res","require","console","log","returnButton"],"mappings":"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","file":"index.map","sourceRoot":"..\\js","sourcesContent":["const main = document.querySelector('main')\r\n\r\n\r\nfunction removeChildren(element){\r\n\twhile (element.hasChildNodes()) {\r\n\t\telement.lastChild.remove();\r\n\t}\r\n}\r\n\r\nfunction makeArtistMain(jsonArray){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'none';\t\r\n\tremoveChildren(main);\r\n\r\n\t//makes artist \r\n\tjsonArray.forEach(artist => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content')\r\n\t\tdiv.innerHTML = `\r\n\t\t\t<img src=\"/images/${artist.imageURL}\">\r\n\t\t\t<h2 id=\"${artist.name}\" data-artistId=\"${artist.id}\">\r\n\t\t\t\t${artist.name}\r\n\t\t\t</h2>\r\n\t\t`\r\n\t\taddMakeMain(div, artist.albums, makeAlbumMain, artist.name) \r\n\t\tmain.appendChild(div)\r\n\t})\r\n\tmakeAddArtistButton()\r\n}\r\n\r\nfunction makeAddArtistButton(){ \r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Artist';\r\n\tbutton.addEventListener('click', () => {\r\n\t\tconst artistName = makeForms('Artist Name:', 'artistName');\r\n\t\tconst artistUrl = makeForms('Artist Image Location:', 'artistUrl')\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\t\t\r\n\t\tsubmitButton.addEventListener('click', () => {\r\n\t\t\tfetch(`api/artist/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: artistName.value,\r\n\t\t\t\t\timageUrl: artistUrl.value\r\n\t\t\t\t})\r\n\t\t\t}).then(response => response.json()).then(data => {makeArtistMain(data)})\r\n\t\t})\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button)\r\n}\r\n\r\nfunction makeAlbumMain(artist, parentName){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'block';\r\n\tremoveChildren(main);\r\n\tmain.childNodes.forEach(elem => elem.remove())\r\n\r\n\tartist.forEach(album => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content')\r\n\t\tdiv.innerHTML += `\r\n\t\t\t<img src=\"/images/${album.image}\">\r\n\t\t\t<h2 id=\"${album.name}\" data-albumId=\"${album.id}\">\r\n\t\t\t\t${album.name}\r\n\t\t\t</h2>\r\n\t\t`\r\n\t\taddMakeMain(div, album.songs, makeSongMain, album.name)\r\n\t\tmain.appendChild(div)\r\n\t})\r\n\tmakeAddAlbumButton();\r\n}\r\n\r\nfunction makeAddAlbumButton() {\r\n\t//makes basic button\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Album';\r\n\t//makes listener to create form with submit button\r\n\tbutton.addEventListener('click', () => {\r\n\t\tconst albumName = makeForms('Album Name:', 'albumName');\r\n\t\tconst recordLabel = makeForms('Record Label:', 'recordLabel');\r\n\t\tconst albumUrl = makeForms('Image Location:', 'albumUrl')\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\r\n\t\t//listener to submitButton then fetch new api to make page\r\n\t\tsubmitButton.addEventListener('click', () => {\r\n\t\t\t\r\n\t\t\t//post new album using the appropriate input.value\r\n\t\t\tfetch(`api/album/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: albumName.value,\r\n\t\t\t\t\trecordLabel: recordLabel.value,\r\n\t\t\t\t\timageUrl: albumUrl.value,\r\n\t\t\t\t\tartistName: parentName\r\n\t\t\t\t})\r\n\t\t\t\t//controller generates new page using (V \"data\" right here) given back from the controller\r\n\t\t\t}).then(response => response.json()).then(data => {makeAlbumMain(data)})\r\n\t\t})\r\n\t\t//removes original add button when pressed\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button)\r\n}\r\n\r\nfunction makeSongMain(album, parentName){\r\n\tdocument.querySelector('.returnToArtist').style.display = 'block';\r\n\tremoveChildren(main);\r\n\r\n\talbum.forEach(song => {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.classList.add('main_content');\r\n\t\tdiv.innerHTML += `\r\n\t\t\t<h2 id=\"${song.name}\" data-songId=\"${song.id}\">\r\n\t\t\t\t${song.name}\r\n\t\t\t</h2>\r\n\t\t`\r\n\t\tmain.appendChild(div)\r\n\t})\r\n\tmakeAddSongButton()\r\n}\r\n\r\n\r\nfunction makeAddSongButton(){\r\n\tconst button = document.createElement('button')\r\n\tbutton.innerText = 'Add Song';\r\n\tbutton.addEventListener('click', () => {\r\n\t\tconst songName = makeForms('Song Name:', 'songName');\r\n\t\tconst songLength = makeForms('Run Time:', 'songLength');\r\n\t\tconst submitButton = document.createElement('button')\r\n\t\tsubmitButton.innerText = 'Submit';\r\n\t\tmain.appendChild(submitButton);\r\n\t\t\r\n\t\tsubmitButton.addEventListener('click', function(){\r\n\t\t\tfetch(`api/song/add`, {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tname: songName.value,\r\n\t\t\t\t\tlength: songLength.value,\r\n\t\t\t\t\talbum: parentName\r\n\t\t\t\t})\r\n\t\t\t}).then(response => response.json()).then(data => {makeSongMain(data)})\r\n\t\t\t\r\n\t\t})\r\n\t\tbutton.remove();\r\n\t})\r\n\tmain.appendChild(button)\r\n}\r\n\r\nfunction makeForms(labelText, id){\r\n\tconst main = document.querySelector('main');\r\n\tconst input = document.createElement('input');\r\n\tconst label = document.createElement('label')\r\n\tlabel.innerText = labelText\r\n\tinput.id = id;\r\n\tinput.setAttribute('type', 'text');\r\n\tlabel.appendChild(input)\r\n\tmain.appendChild(label)\r\n}\r\nfunction addMakeMain(div, array, makeMain, parentName){\r\n\tdiv.addEventListener('click', () => {makeMain(array, parentName)});\r\n}\r\n\r\n/*\r\nfunction showComments(jsonArray){\r\n\tjsonArray.forEach(part => {\r\n\r\n\t})\r\n}\r\n*/\r\n\r\n\r\nmodule.exports = {\r\n\tmakeArtistMain,\r\n\tmakeAlbumMain,\r\n\tmakeSongMain,\r\n\tmakeForms,\r\n}","\r\nfunction fetchCall(address){\r\n\treturn fetch(`/api/${address}`).then(res => res.json())\r\n}\r\n\r\n// function ajaxCall(address){\r\n// \tconst xhttp = new XMLHttpRequest()\r\n\r\n// \treturn xhttp.onreadystatechange = function() {\r\n\r\n// \t\tif (this.readyState == 4 && this.status == 200) {\r\n// \t\t\tconsole.log(this.responseText)\r\n// \t\t\treturn JSON.parse(this.responseText)\r\n// \t\t}\r\n// \t}\r\n\r\n// \txhttp.open('GET', `/api/${address}`, true)\r\n// \txhttp.send()\r\n// }\r\n\r\nmodule.exports = {\r\n\tfetchCall\r\n}\r\n\r\n","const {makeArtistMain, makeAlbumMain, makeSongMain} = require('./dom.js')\r\nconst {fetchCall} = require('./app.js')\r\n\r\nfetchCall('artists').then(data => {\r\n\tconsole.log(data)\r\n\tmakeArtistMain(data)\r\n});\r\n\r\nconst returnButton = document.querySelector('.returnToArtist');\r\nreturnButton.addEventListener('click', () => {\r\n\t\tfetchCall('artists').then(data => {\r\n\t\t\tmakeArtistMain(data)\r\n\t\t});\r\n})\r\n\r\n\r\n// makeMain(ajaxCall('albums'));"]}